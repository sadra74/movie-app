<div *ngIf="service.currentUser; else other_content">
  <dx-text-box width="100%" placeholder="SEARCH" (onValueChanged)="search($event)"></dx-text-box>
  <div style="height: 100px"></div>
  <dx-check-box text="sort by average rate (desc)" (onValueChanged)="sort($event)"></dx-check-box>

  <h2 class="content-block">Home</h2>
  <dx-tile-view
    class="dx-tile-content"
    [height]="700"
    [baseItemHeight]="750"
    [baseItemWidth]="200"
    direction="vertical">
    <dxi-item *ngFor="let movie of movies" (click)="showDetails($event, movie)"
              [widthRatio]="2"
              [heightRatio]="1">
      <div class="card" style="width: 100%; height: 100%">
        <img height="200px" width="100%" class="locandina" [src]="movie.posterurl | secure | async"/>
        <div class="card-body">
          <h5 class="card-title">{{movie.title}}</h5>
          <p class="card-text">{{movie.storyline}}</p>
        </div>
        <ul class="list-group list-group-flush">
<!--          <li *ngFor="let comment of movie.comments" class="list-group-item">{{comment}}</li>-->
          <!--        <li class="list-group-item">Current User Rating: {{movie.currentUserRating}}</li>-->
          <li class="list-group-item">Average Rating: {{movie.avgRate}}</li>
        </ul>
      </div>
    </dxi-item>
  </dx-tile-view>
</div>

<ng-template #other_content>
  <h3>you are not recognized!!!. logout and then login with a random username or password (remember admin@admin.com is the
    admin user and also remember that reloading will destroy your changes because there is no database)</h3>
</ng-template>

<!--<img class="locandina" [src]="movie.posterurl | secure | async"/>-->
